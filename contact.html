<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Index</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar">
        <a href="index.html">
            <img src="photos/jcglogo.jpg">
        </a>
        <ul>
            <li><a href="about.html"><strong>About Us</strong></a></li>
            <li><a href="services.html"><strong>Services</strong></a></li>
            <li><a href="contact.html"><strong>Contact Us</strong></a></li>
        </ul>
    </nav>

    <section class="contact">
        <h2>Contact Us!</h2>
        <form id="contact-form">
            <div class="input-field field">
                <input type="text" placeholder="Full Name" id="name" class="item" autocomplete="off" required>
                <div class="error-txt">Full Name can't be blank</div>
            </div>
            <div class="input-field field">
                <input type="email" placeholder="Email Address" id="email" class="item" autocomplete="off" required>
                <div class="error-txt">Email Address can't be blank</div>
            </div>
            <div class="input-field field">
                <input type="tel" placeholder="Phone Number" id="phone" class="item" autocomplete="off" required>
                <div class="error-txt">Phone Number can't be blank</div>
            </div>
            <div class="input-field field">
                <input type="text" placeholder="Subject" id="subject" class="item" autocomplete="off" required>
                <div class="error-txt">Subject can't be blank</div>
            </div>
            <div class="textarea-field field">
                <textarea id="message" cols="30" rows="10" placeholder="Your Message" class="item" autocomplete="off" required></textarea>
                <div class="error-txt">Message can't be blank</div>
            </div>
            <button type="submit">Send Message</button>
        </form>
    </section>

    <script src="https://smtpjs.com/v3/smtp.js"></script>
    <script>
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();

            let name = document.getElementById('name').value;
            let email = document.getElementById('email').value;
            let phone = document.getElementById('phone').value;
            let subject = document.getElementById('subject').value;
            let message = document.getElementById('message').value;

            // Use SMTP.js to send the email
            Email.send({
                SecureToken: "704D0CB51F8964506A3AA1E3251F5D63C029E5C9EE94E27F235F564D58B8B413396BFCAD74406A48CCA6AD8012026E88",
                To: 'jcgelectricalservices@gmail.com',
                From: email,
                Subject: subject,
                Body: `Name: ${name} <br/> Email: ${email} <br/> Phone: ${phone} <br/> Subject: ${subject} <br/> Message: ${message}`
            }).then(
                message => alert("Mail sent successfully")
            ).catch(
                error => alert("Failed to send email: " + error)
            );
        });
    </script>

</body>
</html>
